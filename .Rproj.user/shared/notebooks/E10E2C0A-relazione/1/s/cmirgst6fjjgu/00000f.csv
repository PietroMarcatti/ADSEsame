"0","path_matrix <- as.matrix(path_matrix_data %>% arrange(node))"
"0","# Somma del punteggio di pattugliabilità dei nodi di ciascun percorso"
"0","path_policing_vec <- path_matrix[,3:197] %*% (factor_3_complete$score)"
"0","# Nodo target di ciascun percorso"
"0","path_nodes <- as.data.frame(path_matrix[,1])"
"0","colnames(path_nodes) <- c(""node"")"
"0","# Punteggio di pattugliabilità del nodo target necessario per normalizzare"
"0","norm_factor = (path_nodes %>% left_join( factor_3_complete, by=""node""))"
"0","# Vettore del punteggio di pattugliabilità del percorso normalizzato per nodo target"
"0","norm_path_pol_vec <- (path_policing_vec- norm_factor$score)"
"0","path_policing_frame <- data.frame("
"0","  to = path_matrix[,1],"
"0","  cost = path_matrix[,2],"
"0","  policing = norm_path_pol_vec"
"0",")"
"0","path_policing_score <- path_policing_frame %>% group_by(to) %>%"
"0","  summarize("
"0","    length = sum(cost),"
"0","    count = n(),"
"0","    policing_score = sum(policing)/count,"
"0","    .groups = ""drop"""
"0","  )"
"0","path_policing_score = path_policing_score[-murder_sites,]"
"0","norm_4 = 100-norm_max(path_policing_score$policing_score)"
"0","rank_4 = 100-rank_percentiles(path_policing_score$policing_score)"
"0","test = norm_4+rank_4"
"0","factor_4_score = data.frame("
"0","  node = hideouts,"
"0","  score = norm_max((norm_4+rank_4)/2/factor_1_score$score)"
"0",");"
