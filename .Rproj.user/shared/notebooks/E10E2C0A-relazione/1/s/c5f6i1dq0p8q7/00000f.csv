"0","compute_all_edges <- function(edges, edge_type) {"
"0","  max_id <- max(edges$id, na.rm = TRUE)"
"0","  "
"0","  directed_base_edges <- edges %>% bind_rows(edges %>%"
"0","              mutate(from = edges$to, to = edges$from))"
"0","  "
"0","  two_step_edges <- directed_base_edges %>%"
"0","    inner_join(directed_base_edges, by = c(""to"" = ""from""), suffix =  c(""_1"",""_2"")) %>%"
"0","    filter(from != to_2) %>%  # Avoid cycles like 2->3->2"
"0","    transmute("
"0","      from = from,"
"0","      step = to,"
"0","      to = to_2,"
"0","      type = edge_type  # The pivot node"
"0","    ) %>%"
"0","    arrange(from, to, step) %>%  "
"0","    distinct(.keep_all = TRUE) %>%  # Remove duplicate paths"
"0","    mutate(id = row_number() + max_id)"
"0",""
"0","  return(two_step_edges)"
"0","}"
